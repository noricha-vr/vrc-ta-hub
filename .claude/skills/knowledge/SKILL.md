---
name: "knowledge"
description: "プロジェクト専用のパーソナルアシスタント。過去の失敗から学び、同じミスを繰り返さない。試行錯誤の経験を蓄積し、プロジェクト固有の問題解決パターンを提供。"
---

# プロジェクトナレッジ

## 概要

このスキルはプロジェクト固有の「失敗→成功」経験を蓄積し、同じ失敗を繰り返さないための知識ベースです。

## ゴール

**プロジェクト専用のパーソナルアシスタントになること**

- 過去の失敗パターンを記憶し、同じミスを繰り返さない
- プロジェクト固有の問題解決パターンを提供
- 試行錯誤の経験を蓄積し、次回は一発で解決できるようにする

## 構造

| ディレクトリ | 形式 | 用途 |
|-------------|------|------|
| `logs/` | 時系列 | いつ何が起きたかの記録、振り返り用 |
| `patterns/` | 構造化 | カテゴリ別の知識、検索・再利用用 |

## 使用するタイミング

- タスク実行中に試行錯誤が発生した時
- 過去に同様の問題を解決した経験があるか確認したい時

## 蓄積する経験の基準

蓄積する:
- 一発でゴールにたどり着かなかったもの
- 試行錯誤して発見した有用なパターン
- ハマりやすいポイントと回避方法

蓄積しない:
- 一発で成功したもの
- 一般的なベストプラクティス（公式ドキュメント参照で十分）

## 経験蓄積フロー

タスク完了後、試行錯誤があった場合：

1. 得られた知識をリストアップ
2. 「スキルを更新しますか？」と確認（はい/いいえ）
3. 「はい」の場合：
   - `logs/YYYY-MM.md` に時系列で追記
   - `patterns/{category}.md` に構造化して追記
   - 下記インデックスを更新

## 整合性チェックモード

「ナレッジをレビュー」「ナレッジを整理」「重複を確認」で発動。

### チェック項目

| 種類 | 内容 |
|------|------|
| リンク切れ | logs/ → patterns/ の参照が存在するか |
| 逆リンク切れ | patterns/ → logs/ の参照が存在するか |
| インデックス不整合 | SKILL.md のインデックスと実ファイルの差分 |
| 重複パターン | patterns/ 内の類似タイトル・状況 |

### 実行手順

1. `logs/` 内の全ファイルを読み込み、パターン参照を抽出
2. `patterns/` 内の全ファイルを読み込み、ログ参照を抽出
3. 相互リンクの存在を確認
4. SKILL.md のインデックスと実ファイルを比較
5. patterns/ 内で類似タイトルを検出

### 問題報告形式

問題を検出したら AskUserQuestion で対応を確認：

```
## ナレッジレビュー結果

### リンク切れ (N件)
- `logs/2026-01.md` → `patterns/docker.md#ビルドエラー` (存在しない)
  → [参照を削除] [パターンを作成] [スキップ]

### 重複の可能性 (N件)
- `patterns/docker.md#コンテナ起動失敗` と `patterns/gcp.md#Cloud Run起動エラー`
  → [統合する] [別物として維持] [確認する]

### インデックス不整合 (N件)
- `patterns/python.md` がインデックスに未登録
  → [インデックスに追加] [ファイルを削除] [スキップ]
```

### 修正実行

ユーザーが選択した対応に従って修正を実行。

## インデックス

### カテゴリ別

<!-- patterns/ 内のファイルへのリンク -->
（まだパターンがありません）

### 最近の経験

<!-- logs/ から最新5件程度 -->
（まだ経験がありません）
